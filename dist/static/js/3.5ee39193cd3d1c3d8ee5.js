webpackJsonp([3],{"6e4o":function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=i("Gu7T"),e=i.n(n),a=i("mtWM"),c=i.n(a),o={data:function(){return{navList:["全部","美食","酒店","旅游","电影","休闲"],discountList:[],bgAndPos:!1,activeNav:"",acitveIndex:0}},mounted:function(){document.querySelector(".discount-container").addEventListener("scroll",this.pageScroll)},methods:{pageScroll:function(t){var s=t.target.scrollTop||t.srcElement.scrollTop;s>220?this.bgAndPos=!0:s<220&&(this.bgAndPos=!1)},loadMore:function(){this.proccessDislist()},proccessDislist:function(){var t=this;c.a.get(this.$url.discounts).then(function(s){var i,n=s.data;(i=t.discountList).push.apply(i,e()(n.discounts))}).catch(function(t){t instanceof Error?console.log(t.message):console.log(t.data)})}},watch:{activeNav:function(t,s){this.acitveIndex!=t.index&&(this.acitveIndex=t.index,this.discountList=[],this.proccessDislist())}}},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"discount-container"},[i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infnite-scroll-distance":"50"}},[i("div",{staticClass:"discount-header",class:{"header-bg":t.bgAndPos}},[i("t-back-button",{staticClass:"discount-back",attrs:{slot:"left"},slot:"left"},[i("mt-button",{staticClass:"sett-back",attrs:{icon:"back"}}),t._v(" "),i("p",[t._v("狠优惠")])],1)],1),t._v(" "),t._m(0),t._v(" "),i("tab-nav",{staticClass:"discount-nav",class:{"navlist-fixed":t.bgAndPos},attrs:{acitveIndex:t.acitveIndex,navList:t.navList},model:{value:t.activeNav,callback:function(s){t.activeNav=s},expression:"activeNav"}}),t._v(" "),i("div",{staticClass:"discount-list"},[t._l(t.discountList,function(t,s){return i("discount-item",{key:s,staticClass:"dis-item",attrs:{itemMsg:t}})}),t._v(" "),i("mt-spinner",{attrs:{type:"triple-bounce"}})],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"banner-img"},[s("img",{staticClass:"banner-img",attrs:{src:i("l/Zw"),alt:""}})])}]};var r=i("VU/8")(o,l,!1,function(t){i("mGAY")},"data-v-0e03a607",null);s.default=r.exports},"l/Zw":function(t,s,i){t.exports=i.p+"static/img/banner1.bcc5f98.jpg"},mGAY:function(t,s){}});
//# sourceMappingURL=3.5ee39193cd3d1c3d8ee5.js.map