webpackJsonp([18],{Quw4:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=t("mtWM"),o=t.n(e),n=t("Au9i"),l={components:{},data:function(){return{placeTell:"请输入手机号",placePass:"请输入密码",tellVal:"",passwordVal:"",clearIcon:!1,showPass:!1,loginBtnTxt:"获取短信验证码",loginBtnBg:1,tellCode:"",showPassInput:!1,loginUrl:"/login-verify-code"}},mounted:function(){o.a.get(this.$url.users).then(function(s){}).catch(function(s){s instanceof Error?console.log(s.message):console.log(s.data)})},methods:{getVerifyCode:function(){},placeFocus:function(s,a){s.target.placeholder="",""!=a&&(this.clearIcon=!0)},clearInput:function(){this.tellVal="",this.loginBtnBg=1},placeBlur:function(s,a){var t=s.target;t.placeholder=t.dataset.placeholder,""!=a&&(this.clearIcon=!1)},showPassFn:function(){this.showPass=!this.showPass},showPassInputFn:function(s){this.showPassInput=!this.showPassInput,1==s?this.loginBtnTxt="登录":2==s&&(this.loginBtnTxt="获取短信验证码")},checkTell:function(s){var a=s.target.value;8==this.tellCode||3!=a.length&&8!=a.length||(a+=" "),a.length>12&&(a=a.substr(0,13),this.loginBtnBg=2),this.tellVal=a},getKeyCode:function(s){this.tellCode=s.keyCode},login:function(s){var a=this,t=s.target.innerText;if("获取短信验证码"==t)this.$router.push(this.loginUrl),console.log(1.1111111111111111e23);else if("登录"==t){this.$https.login.request(this.tellVal,this.passwordVal).then(function(s){200===s.state?(a.$store.commit("user/changeLoginState",s),Object(n.Toast)({message:"登录成功",position:"bottom",duration:3e3}),a.$router.back()):Object(n.Toast)({message:"登录失败",position:"bottom",duration:3e3})});this.$store.state.user.username}}}},i={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"login-box"},[t("div",{staticClass:"login-help"},[t("t-back-button",[t("i",{staticClass:"iconfont icon-cha"})]),s._v(" "),t("p",[s._v("帮助")])],1),s._v(" "),t("div",{staticClass:"login-content"},[t("h2",{staticClass:"login-title"},[s._v("欢迎登录美团")]),s._v(" "),t("div",{staticClass:"phone-input"},[t("p",[s._v("+86")]),s._v(" "),t("i",{staticClass:"iconfont icon-arrowright"}),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.tellVal,expression:"tellVal"}],attrs:{type:"tel","data-placeholder":s.placeTell,placeholder:s.placeTell},domProps:{value:s.tellVal},on:{keydown:s.getKeyCode,focus:function(a){s.placeFocus(a,"clearIcon")},blur:s.placeBlur,input:[function(a){a.target.composing||(s.tellVal=a.target.value)},s.checkTell]}}),s._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:s.clearIcon,expression:"clearIcon"}],staticClass:"iconfont icon-cha",on:{click:s.clearInput}})]),s._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:s.showPassInput,expression:"showPassInput"}],staticClass:"phone-input phone-pass"},["checkbox"==(s.showPass?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordVal,expression:"passwordVal"}],attrs:{"data-placeholder":s.placePass,placeholder:s.placePass,type:"checkbox"},domProps:{checked:Array.isArray(s.passwordVal)?s._i(s.passwordVal,null)>-1:s.passwordVal},on:{focus:function(a){s.placeFocus(a,"")},blur:s.placeBlur,change:function(a){var t=s.passwordVal,e=a.target,o=!!e.checked;if(Array.isArray(t)){var n=s._i(t,null);e.checked?n<0&&(s.passwordVal=t.concat([null])):n>-1&&(s.passwordVal=t.slice(0,n).concat(t.slice(n+1)))}else s.passwordVal=o}}}):"radio"==(s.showPass?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordVal,expression:"passwordVal"}],attrs:{"data-placeholder":s.placePass,placeholder:s.placePass,type:"radio"},domProps:{checked:s._q(s.passwordVal,null)},on:{focus:function(a){s.placeFocus(a,"")},blur:s.placeBlur,change:function(a){s.passwordVal=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordVal,expression:"passwordVal"}],attrs:{"data-placeholder":s.placePass,placeholder:s.placePass,type:s.showPass?"text":"password"},domProps:{value:s.passwordVal},on:{focus:function(a){s.placeFocus(a,"")},blur:s.placeBlur,input:function(a){a.target.composing||(s.passwordVal=a.target.value)}}}),s._v(" "),t("i",{staticClass:"iconfont",class:{"icon-biyanjing":!s.showPass,"icon-ai-eye":s.showPass},on:{click:s.showPassFn}})]),s._v(" "),t("p",{staticClass:"login-tips"},[s._v("未注册的手机号验证后自动创建美团账户")]),s._v(" "),t("button",{staticClass:"login-btn",class:"login-btn-bg"+s.loginBtnBg,on:{click:s.login}},[s._v(s._s(s.loginBtnTxt))]),s._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:!s.showPassInput,expression:"!showPassInput"}],staticClass:"login-pass",on:{click:function(a){s.showPassInputFn(1)}}},[s._v("密码登录")]),s._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:s.showPassInput,expression:"showPassInput"}],staticClass:"login-code"},[t("span",{on:{click:function(a){s.showPassInputFn(2)}}},[s._v("验证码登录")]),t("span",[s._v("忘记密码")])])]),s._v(" "),s._m(0)])},staticRenderFns:[function(){var s=this.$createElement,a=this._self._c||s;return a("div",{staticClass:"login-footer"},[a("i",{staticClass:"iconfont icon-weixin"}),this._v(" "),a("i",{staticClass:"iconfont icon-QQ"}),this._v(" "),a("p",[this._v("登录代表你已同意"),a("span",[this._v("美团用户协议")]),this._v("、"),a("span",[this._v("隐私政策")])])])}]};var c=t("VU/8")(l,i,!1,function(s){t("l13R")},"data-v-0a7782db",null);a.default=c.exports},l13R:function(s,a){}});
//# sourceMappingURL=18.de2c21a2dcff375d4369.js.map