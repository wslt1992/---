webpackJsonp([15],{fGC3:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("Gu7T"),o=a.n(i),e=a("Dd8w"),n=a.n(e),r=a("mtWM"),c=a.n(r),u=a("Au9i"),p={data:function(){return{dataArr:[],popupTarget:null,popupShow:!1}},methods:{toPlacingOrder:function(){this.gouwucheArr.length>0?this.$router.push(this.$url.navigator.placingOrderPath):Object(u.Toast)({message:"购物车为空",position:"bottom",duration:3e3})},popupChe:function(){this.popupShow=!this.popupShow},closePopup:function(t){this.popupShow=!1},addToChe:function(t){var s=n()({},t,{num:1});this.$store.commit("shoppingCart/push",s)},addToCheByFoodid:function(t,s){var a={foodid:t,num:s};this.$store.commit("shoppingCart/push",a)},jianToChe:function(t){this.$store.commit("shoppingCart/jian",t)}},computed:{account:function(){var t=0;return this.gouwucheArr.forEach(function(s){t+=s.price*s.num}),_.floor(t,2)},gouwucheArr:function(){return this.$store.state.shoppingCart.gouwucheArr}},watch:{},mounted:function(){var t=this;this.popupTarget=this.$el.querySelector("#popupTarget"),c.a.get(this.$url.shop).then(function(s){var a;console.log("res",s),(a=t.dataArr).push.apply(a,o()(s.data.data))})}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("t-page",{attrs:{"page-root":""}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("t-header-new",{staticClass:"header"},[a("div",{attrs:{slot:"center"},slot:"center"},[t._v("\n               正新鸡排\n            ")])])],1),t._v(" "),a("t-right-menu",{attrs:{slot:"container"},slot:"container"},[a("div",{staticClass:"menu-left",attrs:{slot:"left"},slot:"left"},t._l(t.dataArr,function(s,i){return a("div",{key:s.id},[a("p",{class:0===i?"default-show":"",attrs:{"left-item":""}},[t._v(t._s(s.fenlei))])])})),t._v(" "),a("div",{staticClass:"menu-right",attrs:{slot:"right"},slot:"right"},t._l(t.dataArr,function(s){return a("div",{key:s.id,staticClass:"default-show",attrs:{"right-item":""}},t._l(s.arr,function(s){return a("div",{key:s.id,staticClass:"food-item"},[a("img",{attrs:{src:s.img,alt:""}}),t._v(" "),a("div",[a("span",{staticClass:"header"},[t._v(t._s(s.name))]),t._v(" "),a("span",{staticClass:"tips"},[t._v("够脆、够香、嘎嘣脆")]),t._v(" "),a("div",[a("span",{staticClass:"sale"},[t._v("月销：5435")]),a("span",{staticClass:"like"},[t._v("赞23")])]),t._v(" "),a("div",{staticClass:"priceAndaddtoChe"},[a("span",{staticClass:"price"},[t._v("￥23")]),a("span",{staticClass:"addToChe",on:{click:function(a){t.addToChe(s)}}},[t._v("+")])])])])}))}))]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"footer"},[a("div",{staticClass:"price-div",attrs:{id:"popupTarget"},on:{click:t.popupChe}},[a("span"),a("span",{staticClass:"price"},[t._v(t._s(t.gouwucheArr.length)+"份")])]),t._v(" "),a("div",{staticClass:"account",on:{click:t.toPlacingOrder}},[t._v("结算(￥"+t._s(this.account)+")")])]),t._v(" "),a("t-popup",{attrs:{target:t.popupTarget,direction:"top",show:t.popupShow}},[a("div",{staticClass:"zhezhao",on:{click:function(s){return s.target!==s.currentTarget?null:t.closePopup(s)}}},[a("div",{staticClass:"popup-che"},[a("div",{staticClass:"gouwuche-title"},[t._v("\n                        购物车\n                    ")]),t._v(" "),a("div",{staticClass:"popup-che-container"},t._l(t.gouwucheArr,function(s){return a("div",{key:s.id,staticClass:"cell"},[a("span",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),a("span",{staticClass:"price"},[t._v("￥"+t._s(s.price))]),t._v(" "),a("div",{staticClass:"input"},[a("span",{staticClass:"input-jian",on:{click:function(a){t.jianToChe(s.foodid)}}},[t._v("-")]),t._v(" "),a("span",[t._v(t._s(s.num))]),t._v(" "),a("span",{staticClass:"input-add",on:{click:function(a){t.addToCheByFoodid(s.foodid,1)}}},[t._v("+")])])])}))])])])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(p,l,!1,function(t){a("nu5j")},"data-v-3228443e",null);s.default=d.exports},nu5j:function(t,s){}});
//# sourceMappingURL=15.874f455171a1611e9317.js.map